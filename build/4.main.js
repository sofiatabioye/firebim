(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1047:function(e,t,a){"use strict";t.a=a.p+"user.png"},1226:function(e,o,u){"use strict";!function(e){u.d(o,"a",function(){return a}),u.d(o,"b",function(){return c});var t=u(901),n=u.n(t),t=(u(233),u(904)),r=u(4),s=(u(919),t.a.BASE_API_URL);function a(){return function(a){return a({type:r.J}),n.a.get(s+"/assetcategories").then(function(e){var t;a((t=e.data.data,e=e.data.message,{type:r.L,categories:t,message:e}))}).catch(function(e){a({type:r.K,error:e})})}}function c(){return function(a){return a({type:r.O}),n.a.get(s+"/assetfields").then(function(e){var t;a((t=e.data.data,e=e.data.message,{type:r.Q,categories:t,message:e}))}).catch(function(e){a((e=e.message,{type:r.P,error:e}))})}}}.call(this,u(42))},1317:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(894),c=a(896);t.default=function(){return r.a.createElement("div",{className:"c-app c-default-layout flex-row align-items-center"},r.a.createElement(s.k,null,r.a.createElement(s.T,{className:"justify-content-center"},r.a.createElement(s.j,{md:"6"},r.a.createElement("div",{className:"clearfix"},r.a.createElement("h1",{className:"float-left display-3 mr-4"},"404"),r.a.createElement("h4",{className:"pt-3"},"Oops! You","'","re lost."),r.a.createElement("p",{className:"text-muted float-left"},"The page you are looking for was not found.")),r.a.createElement(s.D,{className:"input-prepend"},r.a.createElement(s.F,null,r.a.createElement(s.G,null,r.a.createElement(c.a,{name:"cil-magnifying-glass"}))),r.a.createElement(s.C,{size:"16",type:"text",placeholder:"What are you looking for?"}),r.a.createElement(s.E,null,r.a.createElement(s.e,{color:"info"},"Search")))))))}},1318:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(894),c=a(896);t.default=function(){return r.a.createElement("div",{className:"c-app c-default-layout flex-row align-items-center"},r.a.createElement(s.k,null,r.a.createElement(s.T,{className:"justify-content-center"},r.a.createElement(s.j,{md:"6"},r.a.createElement("span",{className:"clearfix"},r.a.createElement("h1",{className:"float-left display-3 mr-4"},"500"),r.a.createElement("h4",{className:"pt-3"},"Houston, we have a problem!"),r.a.createElement("p",{className:"text-muted float-left"},"The page you are looking for is temporarily unavailable.")),r.a.createElement(s.D,{className:"input-prepend"},r.a.createElement(s.F,null,r.a.createElement(s.G,null,r.a.createElement(c.a,{name:"cil-magnifying-glass"}))),r.a.createElement(s.C,{size:"16",type:"text",placeholder:"What are you looking for?"}),r.a.createElement(s.E,null,r.a.createElement(s.e,{color:"info"},"Search")))))))}},1324:function(e,t,a){"use strict";a.r(t);function s(e){var t=e.handleLogout,a=e.user,n=(v()(e,w),Object(l.b)()),r=Object(l.c)(function(e){return e.initial.sidebarShow});return u.a.createElement(d.w,{withSubheader:!0},u.a.createElement(d.ib,{inHeader:!0,className:"ml-md-3 d-lg-none",onClick:function(){var e=!![!1,"responsive"].includes(r)||"responsive";n({type:"set",sidebarShow:e})}}),u.a.createElement(d.ib,{inHeader:!0,className:"ml-3 d-md-down-none",onClick:function(){var e=![!0,"responsive"].includes(r)&&"responsive";n({type:"set",sidebarShow:e})}}),u.a.createElement(d.x,{className:"mx-auto d-lg-none",to:"/dashbaord"},u.a.createElement(j.a,{name:"logo",src:N,width:48,alt:"Logo"}),"Fire Rating"),u.a.createElement(d.y,{className:"d-md-down-none mr-auto"},u.a.createElement(d.z,{className:"px-3"},u.a.createElement(d.A,{to:"/dashboard"},"Fire Rating"))),u.a.createElement(d.y,{className:"px-3"},u.a.createElement(O,{handleLogout:t,user:a})),u.a.createElement(d.eb,{className:"px-3 justify-content-between"},u.a.createElement(d.d,{className:"border-0 c-subheader-nav m-0 px-0 px-md-3",routes:m})))}var o=a(1),u=a.n(o),l=a(230),c=a(24),i=a(46),d=a(894),m=[{path:"/",exact:!0,name:"Home"},{path:"/projects",exact:!0,name:"Projects",component:u.a.lazy(function(){return Promise.all([a.e(0),a.e(5),a.e(12),a.e(13)]).then(a.bind(null,1320))})},{path:"/users",exact:!0,name:"Users",component:u.a.lazy(function(){return Promise.all([a.e(0),a.e(6)]).then(a.bind(null,1326))})},{path:"/dashboard",exact:!0,name:"Dashboard",component:u.a.lazy(function(){return Promise.all([a.e(5),a.e(7),a.e(8)]).then(a.bind(null,1319))})},{path:"/viewer/:urn",exact:!0,name:"Model Viewer",component:u.a.lazy(function(){return Promise.all([a.e(5),a.e(7),a.e(8)]).then(a.bind(null,1321))})},{path:"/project/:projectId",exact:!0,name:"Project",component:u.a.lazy(function(){return a.e(11).then(a.bind(null,1325))})},{path:"/change-password",exact:!0,name:"Change Password",component:u.a.lazy(function(){return Promise.all([a.e(0),a.e(6)]).then(a.bind(null,1322))})},{path:"/resetpassword/:resetToken:/id",exact:!0,name:"Reset Password",component:u.a.lazy(function(){return Promise.all([a.e(0),a.e(10)]).then(a.bind(null,1230))})},{path:"/userprofile",exact:!0,name:"Profile",component:u.a.lazy(function(){return Promise.all([a.e(0),a.e(6)]).then(a.bind(null,1323))})}],p=(a(298),a(899)),f=a(919),b=a(1226),h=a(918),g=u.a.createElement("div",{className:"pt-3 text-center"},u.a.createElement("div",{className:"sk-spinner sk-spinner-pulse"})),y=u.a.memo(function(){var n=Object(l.b)(),r=Object(l.c)(function(e){return e.auth.user}),a=Object(l.c)(function(e){return e.project.projects});return Object(o.useEffect)(function(){var e,t=localStorage.getItem("user"),a=localStorage.getItem("x-access-token");t&&(e=JSON.parse(t),Object(h.a)(a),n(Object(p.l)(e))),n(Object(f.e)()),n(Object(b.b)()),n(Object(b.a)()),n(Object(p.d)(1)),n(Object(p.e)(r.id)),t&&"admin"===JSON.parse(t).role&&n(Object(p.f)())},[]),u.a.createElement("main",{className:"c-main"},u.a.createElement(d.k,{fluid:!0},u.a.createElement(o.Suspense,{fallback:g},u.a.createElement(i.f,null,m.map(function(t,e){return t.component&&u.a.createElement(i.e,{key:e,path:t.path,exact:t.exact,project:a,name:t.name,render:function(e){return u.a.createElement(d.r,null,u.a.createElement(t.component,e))}})}),u.a.createElement(i.d,{from:"/",to:"/dashboard"})))))}),E=u.a.memo(function(){return u.a.createElement(d.s,{fixed:!1},u.a.createElement("div",{className:"mfs-auto"},u.a.createElement("span",{className:"mr-1"},"@"),u.a.createElement("a",{href:"#",rel:"noopener noreferrer",className:"text-dark"},"Fire BIM 2022")))}),n=a(122),v=a.n(n),j=a(896),N=a.p+"logot.png",w=["handleLogout","user"],r=(a(2),a(1047)),x=["handleLogout","user"],O=function(e){var t=e.handleLogout,a=e.user;v()(e,x);return u.a.createElement(d.n,{inNav:!0,className:"c-header-nav-items mx-2",direction:"down"},u.a.createElement(d.q,{className:"c-header-nav-link",caret:!1},u.a.createElement("div",{className:"c-avatar"},u.a.createElement(d.B,{src:a&&a.image?"data:image/png;base64, "+a.image:r.a,className:"c-avatar-img",shape:"rounded-circle",thumbnail:!0}))),u.a.createElement(d.p,{className:"pt-0",placement:"bottom-end"},u.a.createElement(d.o,{header:!0,tag:"div",color:"light",className:"text-center"},u.a.createElement("strong",null,"Account"),u.a.createElement("div",null,a?a.email:null),u.a.createElement("div",null," Role: ",u.a.createElement("i",null,a?a.role:null))),u.a.createElement(d.o,{to:"/userprofile"},u.a.createElement(j.a,{name:"cil-bell",className:"mfe-2"}),"Profile"),u.a.createElement(d.o,{to:"/change-password"},u.a.createElement(j.a,{name:"cil-settings",className:"mfe-2"}),"Change Password"),u.a.createElement(d.o,{divider:!0}),u.a.createElement(d.o,{onClick:t},u.a.createElement(j.a,{name:"cil-x",className:"mfe-2"}),"Log Out")))},n=a(900),S=a.n(n),P=(a.p,[{_tag:"CSidebarNavItem",name:"Dashboard",to:"/dashboard",icon:u.a.createElement(j.a,{name:"cil-speedometer",customClasses:"c-sidebar-nav-icon"})},{_tag:"CSidebarNavTitle",_children:["Users"]},{_tag:"CSidebarNavItem",name:"Users",to:"/users",icon:"cil-user"},{_tag:"CSidebarNavTitle",_children:["Projects"]},{_tag:"CSidebarNavItem",name:"Projects",to:"/projects",icon:"cil-list"}]),k=u.a.memo(function(e){var t=Object(l.b)(),a=Object(l.c)(function(e){return e.initial.sidebarShow}),n=Object(o.useState)([]),r=S()(n,2),n=r[0],s=r[1],c=e.user,e=e.projects;return Object(o.useEffect)(function(){var e=(c&&c.role,P).filter(function(e){return"/base"!==e.route});s(e)},[e,c]),u.a.createElement(d.V,{className:"sidebar-dark",show:a,onShowChange:function(e){return t({type:"set",sidebarShow:e})}},u.a.createElement(d.W,{className:"d-md-down-none my-4 text-decoration-none text-center pr-2",to:"/dashbaord"},u.a.createElement("h4",{style:{color:"#ede6e6"}},"Fire BIM")),u.a.createElement(d.Y,null,u.a.createElement(d.l,{className:"sidebar-links",items:n,components:{CSidebarNavDivider:d.Z,CSidebarNavDropdown:d.ab,CSidebarNavItem:d.bb,CSidebarNavTitle:d.cb}})),u.a.createElement(d.X,{className:"c-d-md-down-none"}))});t.default=function(){var t=Object(c.g)(),e=Object(l.c)(function(e){return e.auth.user}),a=Object(l.c)(function(e){return e.auth.profile}),n=Object(l.c)(function(e){return e.project.projects}),r=Object(l.b)();return u.a.createElement("div",{className:"c-app c-default-layout"},u.a.createElement(k,{user:e,projects:n}),u.a.createElement("div",{className:"c-wrapper"},u.a.createElement(s,{handleLogout:function(e){e.preventDefault(),r(Object(p.i)(t))},user:a}),u.a.createElement("div",{className:"c-body"},u.a.createElement(y,null)),u.a.createElement(E,null)))}},899:function(e,j,N){"use strict";!function(r){N.d(j,"l",function(){return i}),N.d(j,"i",function(){return t}),N.d(j,"h",function(){return a}),N.d(j,"d",function(){return n}),N.d(j,"g",function(){return d}),N.d(j,"j",function(){return m}),N.d(j,"a",function(){return p}),N.d(j,"c",function(){return f}),N.d(j,"k",function(){return b}),N.d(j,"f",function(){return h}),N.d(j,"e",function(){return g}),N.d(j,"b",function(){return y}),N.d(j,"m",function(){return E}),N.d(j,"n",function(){return v});var e=N(901),s=N.n(e),c=N(233),e=N(904),o=N(918),u=N(4),l=e.a.BASE_API_URL;function i(e){return{type:u.mb,user:e}}function t(t){return function(e){localStorage.removeItem("x-access-token"),localStorage.removeItem("user"),Object(o.a)(!1),e(i({})),t.push("/login"),c.b.success("You have logged out successfully")}}function a(e,n){return function(a){return s.a.post(l+"/login",e).then(function(e){r.log(e);var t=e.data.data.token,e=e.data.data;localStorage.setItem("x-access-token",t),localStorage.setItem("user",JSON.stringify(e)),Object(o.a)(t),a(i(e)),c.b.success("You are signed In"),n.push("/")}).catch(function(e){e=e.response.errors?Object.values(e.response.data.errors).join(", "):e.response.data.message;a({type:u.Pb,error:e}),c.b.error("Incorrect username/password")})}}function n(e){return function(t){return s.a.get(l+"/model-components/model/"+e).then(function(e){return t((e=e.data.data,{type:u.M,data:e}))}).catch(function(e){t({type:u.N,message:e})})}}function d(e){return function(a){return a({type:u.db}),s.a.post(l+"/invite-user",e).then(function(e){var t;c.b.success("Invite sent successfully"),a((t="Invite sent successfully",e=e.data.data,{type:u.fb,message:t,data:e}))}).catch(function(e){e=(e.response.data.errors||e.response.data).message;a({type:u.eb,error:e}),c.b.error(e)})}}function m(e){return function(a){return a({type:u.gb}),s.a.post(l+"/remove-user",e).then(function(e){var t;c.b.success("User removed from project successfully"),a((t="User removed from project successfully",e=e.data.data,{type:u.ib,message:t,data:e}))}).catch(function(e){e=(e.response.data.errors||e.response.data).message;a({type:u.hb,error:e}),c.b.error(e)})}}function p(e){return function(t){return t({type:u.j}),s.a.put(l+"/users/password",e).then(function(e){204===e.status&&(c.b.success("Password changed successfully"),t({type:u.l,message:"Password changed successfully"}))}).catch(function(e){e=(e.response.data.errors||e.response.data).message;t({type:u.k,error:e}),c.b.error(e)})}}function f(e){return function(t){return t({type:u.E}),s.a.post(l+"/password/request-reset",e).then(function(e){c.b.success(e.data.message),t((e=e.data.message,{type:u.G,message:e}))}).catch(function(e){e.response.data.errors,e=e.response.data.message;t({type:u.F,error:e}),c.b.error(e)})}}function b(e,a){return function(t){return t({type:u.jb}),s.a.post(l+"/reset-password",e).then(function(e){c.b.success("Password reset successful"),t({type:u.lb,message:"Password reset successful"}),a.push("/login")}).catch(function(e){e.response.data.errors,e=e.response.data.message;t({type:u.kb,error:e}),c.b.error(e)})}}function h(){return function(a){return a({type:u.X}),s.a.get(l+"/users").then(function(e){var t;a((t=e.data.data,e=e.data.message,{type:u.Z,data:t,message:e}))}).catch(function(e){e.response.data.errors,e=e.response.data.message;a({type:u.Y,error:e})})}}function g(e){return function(a){return a({type:u.ab}),s.a.get(l+"/user/"+e).then(function(e){var t;a((t=e.data.data,e=e.data.message,{type:u.cb,data:t,message:e}))}).catch(function(e){e.response.data.errors,e=e.response.data.message;a({type:u.bb,error:e})})}}function y(n){return function(a){return a({type:u.v}),s.a.delete(l+"/user/".concat(n)).then(function(e){var t;a((t="User deleted successfully",{type:u.x,id:n,message:t})),c.b.success("User deleted successfully")}).catch(function(e){r.log(e.response);e.response.data.errors,e=e.response.data.message;a({type:u.w,error:e}),c.b.error(e)})}}function E(e,n){return function(a){return a({type:u.Db}),s.a.put(l+"/user/".concat(n),e).then(function(e){var t;a((t="User updated successfully",e=e.data.data,{type:u.Ib,message:t,data:e,id:n})),c.b.success("User updated successfully")}).catch(function(e){e.response.data.errors,e=e.response.data.message;a({type:u.Eb,error:e}),c.b.error(e)})}}function v(e,n){return function(a){return a({type:u.Fb}),s.a.put(l+"/user/".concat(n),e).then(function(e){var t;a((t="User updated successfully",e=e.data.data,{type:u.Hb,message:t,data:e,id:n})),c.b.success("User updated successfully")}).catch(function(e){e.response.data.errors,e=e.response.data.message;a({type:u.Gb,error:e}),c.b.error(e)})}}}.call(this,N(42))},904:function(e,t,a){"use strict";t.a={BASE_API_URL:"http://localhost:4000/api"}},918:function(e,t,a){"use strict";var n=a(901),r=a.n(n);t.a=function(e){e?r.a.defaults.headers.common["x-access-token"]=e:delete r.a.defaults.headers.common["x-access-token"]}},919:function(e,f,b){"use strict";!function(r){b.d(f,"e",function(){return t}),b.d(f,"a",function(){return a}),b.d(f,"g",function(){return n}),b.d(f,"b",function(){return l}),b.d(f,"h",function(){return i}),b.d(f,"f",function(){return d}),b.d(f,"c",function(){return m}),b.d(f,"d",function(){return p});var e=b(901),s=b.n(e),c=b(233),e=b(904),o=b(4),u=e.a.BASE_API_URL;function t(){return function(a){return a({type:o.R}),s.a.get(u+"/projects").then(function(e){var t;r.log(e),a((t=e.data.data,e=e.data.message,{type:o.T,projects:t,message:e}))}).catch(function(e){r.log(e.response),a((e=e.message,{type:o.S,error:e}))})}}function a(e){return function(a){return a({type:o.g}),s.a.post(u+"/project/create",JSON.stringify(e),{headers:{"Content-Type":"application/json"}}).then(function(e){var t;a((t=e.data.data,e="Project created successfully",{type:o.i,project:t,message:e})),c.b.success("Project created successfully")}).catch(function(e){e=e.response.data.error||e.response.data.message;a({type:o.h,error:e}),c.b.error(e)})}}function n(n,e){return function(a){return a({type:o.xb}),s.a.put(u+"/project/"+n,e,{headers:{"Content-Type":"application/json"}}).then(function(e){var t;a((t=e.data.data.project,e="Project updated successfully",{type:o.Cb,project:t,id:n,message:e})),c.b.success("Project updated successfully")}).catch(function(e){e=e.response.data.error||e.response.data.message;a({type:o.yb,error:e}),c.b.error(e)})}}function l(n){return function(a){return a({type:o.s}),s.a.delete(u+"/project/".concat(n)).then(function(e){var t;a((t="Project deleted successfully",{type:o.u,message:t,id:n})),c.b.success("Project deleted successfully")}).catch(function(e){e=(e.response.data.errors||e.response.data).message;a({type:o.t,error:e}),c.b.error(e)})}}function i(e){return function(t){return t({type:o.Jb}),s.a.post(u+"/project/upload",e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){t({type:o.Ob,message:"Model uploaded successfully"}),c.b.success("Model uploaded successfully")}).catch(function(e){e.response.data.errors,e=e.response.data.message;t({type:o.Nb,error:e}),c.b.error(e)})}}function d(e,a){return function(t){return t({type:o.zb}),s.a.put(u+"/model/"+e,a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){t({type:o.Bb,message:"Updated completed successfully"}),c.b.success("Updated completed successfully")}).catch(function(e){e.response.data.errors,e=e.response.data.message;t({type:o.Ab,error:e}),c.b.error(e)})}}function m(e,n){return function(a){return a({type:o.y}),c.b.success("Download started! Please wait..."),s.a.get(u+"/model/download/"+e).then(function(e){c.b.success("Downloading file..");var t=document.createElement("a");t.target="_blank",t.download=n,t.href=URL.createObjectURL(new Blob([e.data,{type:"octet/stream"}])),t.click(),c.b.success("Download successful"),a({type:o.D,message:"Download successful"})}).catch(function(e){e.response.data.errors,e=e.response.data.message;a({type:o.C,error:e}),c.b.error("download failed")})}}function p(n){return function(a){return a({type:o.U}),s.a.get(u+"/project/".concat(n,"/users")).then(function(e){var t;r.log(e.data.data.length),e&&e.data.data&&1<e.data.data.length&&a((t=e.data.data,e="Project users fetched successfully",{type:o.W,users:t,id:n,message:e}))}).catch(function(e){e=(e.response.data&&e.response.data.message?e.response.data.errors:e.response.data).message;r.log(e),c.b.error(e)})}}}.call(this,b(42))}}]);