(this.webpackJsonptiesadvancedlogistics=this.webpackJsonptiesadvancedlogistics||[]).push([[25],{1090:function(e,t,c){"use strict";c.r(t);var s=c(119),r=c(1),a=c(118),n=c(2),i=c(911),l=c(912),o=c(213),j=c(917),d=c.n(j),u=c(936),b=c(3),h={title:{presence:{allowEmpty:!1,message:"is required"},length:{maximum:32}},category:{presence:{allowEmpty:!1,message:"is required"},length:{maximum:32}},type:{presence:{allowEmpty:!1,message:"is required"},length:{maximum:32}}};t.default=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.assetField.assetFields})),c=Object(o.c)((function(e){return e.assetCategory.assetCategories})),j=Object(n.useState)(!1),O=Object(a.a)(j,2),m=O[0],x=O[1],p=Object(n.useState)(!1),g=Object(a.a)(p,2),v=g[0],y=g[1],f=Object(n.useState)(!1),C=Object(a.a)(f,2),w=C[0],N=C[1],k=Object(n.useState)({}),S=Object(a.a)(k,2),F=S[0],D=S[1],q=Object(n.useState)({isValid:!1,values:{},touched:{},errors:{}}),V=Object(a.a)(q,2),E=V[0],P=V[1],L=Object(o.c)((function(e){return e.auth.user}));Object(n.useEffect)((function(){var e=d()(E.values,h);P((function(t){return Object(r.a)(Object(r.a)({},t),{},{isValid:!e,errors:e||{}})}))}),[E.values]);var A=function(e){return!(!E.touched[e]||!E.errors[e])},B=function(e){e.persist(),P((function(t){return Object(r.a)(Object(r.a)({},t),{},{values:Object(r.a)(Object(r.a)({},t.values),{},Object(s.a)({},e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value)),touched:Object(r.a)(Object(r.a)({},t.touched),{},Object(s.a)({},e.target.name,!0))})}))},I=function(e,t){return Object(b.jsxs)(i.t,{className:"form-horizontal",onSubmit:e,children:[Object(b.jsxs)(i.L,{children:[Object(b.jsxs)(i.u,{row:!0,children:[Object(b.jsx)(i.j,{md:"3",children:Object(b.jsx)(i.I,{htmlFor:"hf-email",children:"Name"})}),Object(b.jsxs)(i.j,{xs:"12",md:"9",children:[Object(b.jsx)(i.C,{type:"text",id:"title",name:"title",placeholder:"Enter data point name...",onChange:B,value:E.values.title||"",required:!0}),Object(b.jsx)(i.v,{className:"help-block",children:A("title")?E.errors.title[0]:"Please enter the name"})]})]}),Object(b.jsxs)(i.u,{row:!0,children:[Object(b.jsx)(i.j,{md:"3",children:Object(b.jsx)(i.I,{htmlFor:"category",children:"Category"})}),Object(b.jsxs)(i.j,{xs:"12",md:"9",children:[Object(b.jsxs)(i.U,{custom:!0,name:"category",id:"category",autoComplete:"category",onChange:B,value:E.values.category||"",required:!0,children:[Object(b.jsx)("option",{value:"",children:"Please select"}),c&&c.length>0?c.map((function(e){return Object(b.jsx)("option",{value:e.title,children:e.title},e.id)})):""]}),Object(b.jsx)(i.v,{className:"help-block",children:A("category")?E.errors.category[0]:"Select category"})]})]}),Object(b.jsxs)(i.u,{row:!0,children:[Object(b.jsx)(i.j,{md:"3",children:Object(b.jsx)(i.I,{htmlFor:"type",children:"Data Type"})}),Object(b.jsxs)(i.j,{xs:"12",md:"9",children:[Object(b.jsxs)(i.U,{custom:!0,name:"type",id:"type",autoComplete:"type",onChange:B,value:E.values.type||"",required:!0,children:[Object(b.jsx)("option",{value:"",children:"Please select"}),Object(b.jsx)("option",{value:"string",children:"String"}),Object(b.jsx)("option",{value:"number",children:"Number"}),Object(b.jsx)("option",{value:"url",children:"URL"}),Object(b.jsx)("option",{value:"date",children:"Date"})]}),Object(b.jsx)(i.v,{className:"help-block",children:A("type")?E.errors.type[0]:"Select data type"})]})]})]}),Object(b.jsxs)(i.M,{children:[Object(b.jsx)(i.e,{className:"sidebar-dark text-white",type:"submit",children:"Submit"})," ",Object(b.jsx)(i.e,{color:"secondary",onClick:function(){"edit"==t?y(!1):x(!1)},children:"Cancel"})]})]})};return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(i.T,{children:Object(b.jsx)(i.j,{xs:"12",lg:"12",children:Object(b.jsxs)(i.g,{className:"shadow-lg",children:[Object(b.jsxs)(i.i,{children:["Asset Data Fields",L&&"admin"===L.role?Object(b.jsx)(i.e,{variant:"outline",active:!0,"aria-pressed":"true",className:"float-right sidebar-dark text-white",onClick:function(){return x(!m)},children:"Add New Datapoint"}):null]}),Object(b.jsxs)(i.K,{show:m,onClose:x,children:[Object(b.jsx)(i.N,{closeButton:!0,children:Object(b.jsx)(i.O,{children:"New Datapoint"})}),I((function(t){return t.preventDefault(),E.isValid&&e(Object(u.b)(E.values)),P({isValid:!1,values:{},touched:{},errors:{}}),x(!1),!1}),"add")]}),Object(b.jsx)(i.h,{children:t?Object(b.jsx)(i.m,{items:t,fields:L&&"admin"===L.role?["title","category","type","actions"]:["title","category","type"],itemsPerPage:10,pagination:!0,tableFilter:!0,sorter:!0,hover:!0,scopedSlots:{actions:function(e){return Object(b.jsxs)("td",{className:"px-4",children:[Object(b.jsx)(i.e,{className:"pl-6",onClick:function(){return t=e,y(!0),P({isValid:!0,values:t,touched:{},errors:{}}),void D(t);var t},color:"primary",variant:"ghost",children:Object(b.jsx)(l.a,{name:"cil-pencil",color:"primary",customClasses:"c-sidebar-nav-icon"})}),Object(b.jsx)(i.e,{className:"pl-6",onClick:function(){return t=e,N(!0),void D(t);var t},color:"danger",variant:"ghost",children:Object(b.jsx)(l.a,{name:"cil-trash",customClasses:"c-sidebar-nav-icon"})})]})}}}):Object(b.jsx)("div",{children:"Loading.."})}),Object(b.jsxs)(i.K,{show:w,onClose:N,children:[Object(b.jsx)(i.N,{closeButton:!0,children:" Confirm"}),Object(b.jsx)(i.L,{children:"Are you sure you want to delete this asset category? "}),Object(b.jsxs)(i.M,{children:[Object(b.jsx)(i.e,{className:"text-white bg-danger",type:"submit",onClick:function(){e(Object(u.d)(F.id)),D({}),N(!1)},children:"Yes"})," ",Object(b.jsx)(i.e,{color:"secondary",onClick:function(){return N(!1)},children:"Cancel"})]})]}),Object(b.jsxs)(i.K,{show:v,onClose:y,children:[Object(b.jsx)(i.N,{closeButton:!0,children:" Confirm"}),I((function(t){t.preventDefault(),e(Object(u.h)(F.id,E.values)),D({}),P({isValid:!1,values:{},touched:{},errors:{}}),y(!1)}),"edit")]})]})})})})}}}]);
//# sourceMappingURL=25.1d4b9fde.chunk.js.map