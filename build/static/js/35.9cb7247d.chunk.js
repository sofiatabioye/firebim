(this.webpackJsonptiesadvancedlogistics=this.webpackJsonptiesadvancedlogistics||[]).push([[35],{1097:function(e,a,s){"use strict";s.r(a);var t=s(119),l=s(1),c=s(118),r=s(2),i=s(213),n=s(911),d=s(913),m=s(912),j=s(917),o=s.n(j),b=s(967),h=s(3),u={firstName:{length:{minimum:2,maximum:32}},lastName:{length:{minimum:2,maximum:32}},organisation:{length:{maximum:45,minimum:3,message:"must be at least 3 characters"}},address:{length:{maximum:45,minimum:3,message:"must be at least 3 characters"}}};a.default=function(e){var a=Object(i.b)(),s=Object(r.useState)("password"),j=Object(c.a)(s,2),O=(j[0],j[1],Object(r.useState)(void 0)),x=Object(c.a)(O,2),g=x[0],v=x[1],f=Object(i.c)((function(e){return e.auth.profile})),N=Object(r.useState)(!1),p=Object(c.a)(N,2),k=p[0],C=p[1],F=Object(r.useState)({isValid:!1,values:{firstName:f?f.firstName:"",lastName:f?f.lastName:"",address:f?f.address:"",organisation:f?f.organisation:"",image:f?f.image:null},touched:{},errors:{}}),w=Object(c.a)(F,2),y=w[0],E=w[1],I=function(e){return!(!y.touched[e]||!y.errors[e])},S=function(e){e.persist(),E((function(a){var s;return Object(l.a)(Object(l.a)({},a),{},{values:Object(l.a)(Object(l.a)({},a.values),{},(s={},Object(t.a)(s,e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value),Object(t.a)(s,e.target.name,"file"===e.target.type?v(e.target.files[0]):e.target.value),s)),touched:Object(l.a)(Object(l.a)({},a.touched),{},Object(t.a)({},e.target.name,!0))})}))};Object(r.useEffect)((function(){var e=o()(y.values,u);E((function(a){return Object(l.a)(Object(l.a)({},a),{},{isValid:!e,errors:e||{}})}))}),[y.values]);return Object(h.jsx)(n.T,{children:Object(h.jsx)(n.j,{xs:"12",xl:"6",className:"align-content-center m-auto",children:Object(h.jsxs)(n.g,{className:"card-accent-dark shadow-lg",size:"lg",children:[Object(h.jsx)(n.i,{className:"text-center",children:Object(h.jsx)("div",{className:"d-block my-3",children:"User Profile"})}),Object(h.jsx)(n.h,{className:"text-center",children:Object(h.jsxs)(n.t,{onSubmit:function(e){e.preventDefault();var s=new FormData;y.isValid&&Object.keys(y.values).length>0&&(void 0!==g&&g.size<=1e6&&!0===k&&s.append("image",g),s.append("firstName",y.values.firstName),s.append("lastName",y.values.lastName),s.append("address",y.values.address),s.append("organisation",y.values.organisation),a(Object(d.o)(s,f.id))),E({isValid:!1,values:{firstName:y.values.firstName,lastName:y.values.lastName,address:y.values.address,organisation:y.values.organisation,image:y.values.image},touched:{},errors:{}}),v(void 0),C(!1)},children:[Object(h.jsx)(n.B,{src:f&&null!==f.image?"data:image/png;base64, "+f.image:b.a,fluid:!0,height:150,width:150,align:"center",shape:"rounded-circle",className:"mb-2"}),Object(h.jsx)(n.T,{className:"center text-center",children:Object(h.jsx)(n.j,{md:{span:6,offset:3},children:k?Object(h.jsxs)(n.D,{className:"mb-3 center",width:"50%",children:[Object(h.jsx)(n.G,{component:"image",htmlFor:"inputGroupFile01",children:Object(h.jsx)("span",{onClick:function(){return C(!k)},children:Object(h.jsx)(m.a,{name:"cil-x",color:"sidebar-dark"})})}),Object(h.jsx)(n.C,{type:"file",id:"image",name:"image",accept:"image/png, image/jpeg, image/jpg",onChange:S}),Object(h.jsx)("div",{className:"text-danger",children:Object(h.jsx)(n.v,{className:"d-block help-block mt-2 text-danger",children:void 0!==g&&g.size>1e6?"File too large! Image cannot be larger than 1MB":null})})]}):Object(h.jsxs)("div",{onClick:function(){return C(!k)},children:[" ",Object(h.jsx)(m.a,{name:"cil-pencil",color:"sidebar-dark"})," Change Profile Picture"]})})}),Object(h.jsx)("hr",{}),Object(h.jsxs)(n.T,{className:"g-3 mb-3 mt-4",children:[Object(h.jsxs)(n.j,{xs:!0,children:[Object(h.jsx)(n.I,{htmlFor:"firstName",className:"float-left",children:"FirstName"}),Object(h.jsx)(n.C,{placeholder:"Enter First name","aria-label":"First name",id:"firstName",name:"firstName",onChange:S,value:y.values.firstName||""}),Object(h.jsx)("div",{children:Object(h.jsxs)(n.v,{className:"d-block help-block",children:[" ",I("firstName")?y.errors.firstName[0]:null," "]})})]}),Object(h.jsxs)(n.j,{xs:!0,children:[Object(h.jsx)(n.I,{htmlFor:"lastName",className:"float-left",children:"LastName"}),Object(h.jsx)(n.C,{placeholder:"Enter Last name","aria-label":"Last name",name:"lastName",onChange:S,value:y.values.lastName||""}),Object(h.jsx)("div",{children:Object(h.jsxs)(n.v,{className:"d-block help-block",children:[" ",I("lastName")?y.errors.lastName[0]:null," "]})})]}),Object(h.jsxs)(n.j,{xs:12,children:[Object(h.jsx)(n.I,{htmlFor:"organisation",className:"float-left mt-3",children:"Organisation"}),Object(h.jsx)(n.C,{id:"organisation",placeholder:"Organisation name",name:"organisation",onChange:S,value:y.values.organisation||""}),Object(h.jsx)("div",{children:Object(h.jsxs)(n.v,{className:"d-block help-block",children:[" ",I("organisation")?y.errors.organisation[0]:null," "]})})]}),Object(h.jsxs)(n.j,{xs:12,children:[Object(h.jsx)(n.I,{htmlFor:"address",className:"float-left mt-3",children:"Location"}),Object(h.jsx)(n.C,{id:"address",placeholder:"Enter your address",name:"address",onChange:S,value:y.values.address||""}),Object(h.jsx)("div",{children:Object(h.jsxs)(n.v,{className:"d-block help-block",children:[" ",I("address")?y.errors.address[0]:null," "]})})]}),Object(h.jsxs)(n.j,{xs:12,children:[Object(h.jsx)(n.I,{htmlFor:"email",className:"float-left mt-3",children:"Email"}),Object(h.jsx)(n.C,{id:"email",placeholder:"Enter email address",name:"email",value:f?f.email:"",disabled:!0})]}),Object(h.jsxs)(n.j,{xs:12,children:[Object(h.jsx)(n.I,{htmlFor:"role",className:"float-left mt-3",children:"Role"}),Object(h.jsx)(n.C,{id:"role",placeholder:"Enter user role",name:"role",value:f?f.role:"",disabled:!0})]})]}),Object(h.jsx)(n.T,{children:Object(h.jsx)(n.j,{xs:"12",children:Object(h.jsx)(n.e,{type:"submit",className:"px-4 sidebar-dark text-white",disabled:!y.isValid,children:"Submit"})})})]})})]})})})}}}]);
//# sourceMappingURL=35.9cb7247d.chunk.js.map