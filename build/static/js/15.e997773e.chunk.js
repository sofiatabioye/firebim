(this.webpackJsonptiesadvancedlogistics=this.webpackJsonptiesadvancedlogistics||[]).push([[15],{1086:function(e,t,r){"use strict";r.r(t);var s=r(119),n=r(1),a=r(118),o=r(2),c=r(35),u=r(213),i=r(24),d=r(917),l=r.n(d),p=r(913),f=r(3),m={email:{presence:{allowEmpty:!1,message:"is required"},email:!0,length:{maximum:64}},password:{presence:{allowEmpty:!1,message:"is required"},length:{maximum:128}}};t.default=function(e){var t,r=Object(o.useState)({isValid:!1,values:{},touched:{},errors:{}}),d=Object(a.a)(r,2),b=d[0],g=d[1],h=Object(u.b)(),y=Object(i.g)();Object(o.useEffect)((function(){var e=l()(b.values,m);g((function(t){return Object(n.a)(Object(n.a)({},t),{},{isValid:!e,errors:e||{}})}))}),[b.values]);var j=function(e){e.persist(),g((function(t){return Object(n.a)(Object(n.a)({},t),{},{values:Object(n.a)(Object(n.a)({},t.values),{},Object(s.a)({},e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value)),touched:Object(n.a)(Object(n.a)({},t.touched),{},Object(s.a)({},e.target.name,!0))})}))},v=function(e){return!(!b.touched[e]||!b.errors[e])};return Object(f.jsxs)("div",{className:"px-5",children:[Object(f.jsx)("p",{className:"text-center text-xl",children:"Welcome."}),Object(f.jsxs)("form",{className:"flex flex-col pt-3 md:pt-8",onSubmit:function(e){e.preventDefault(),h(Object(p.h)({email:b.values.email,password:b.values.password},y))},children:[Object(f.jsxs)("div",{className:"flex flex-col pt-4",children:[Object(f.jsx)("label",{htmlFor:"email",className:"text-lg",children:"Email"}),Object(f.jsx)("input",(t={type:"email",id:"email",name:"email",placeholder:"your@email.com",className:"shadow appearance-none border rounded w-full py-3 px-3 text-gray-700 mt-1 leading-tight focus:outline-none focus:shadow-outline"},Object(s.a)(t,"name","email"),Object(s.a)(t,"autoComplete","email address"),Object(s.a)(t,"onChange",j),Object(s.a)(t,"value",b.email),t)),Object(f.jsxs)("span",{children:[v&&v.email?b.errors.email[0]:null," "]})]}),Object(f.jsxs)("div",{className:"flex flex-col pt-4",children:[Object(f.jsx)("label",{htmlFor:"password",className:"text-lg",children:"Password"}),Object(f.jsx)("input",{type:"password",id:"password",placeholder:"Password",name:"password",className:"shadow appearance-none border rounded w-full py-3 px-3 text-gray-700 mt-1 leading-tight focus:outline-none focus:shadow-outline",autoComplete:"current-password",onChange:j,value:b.password}),Object(f.jsxs)("span",{children:[v&&v("password")?b.errors.password[0]:null," "]})]}),Object(f.jsx)("input",{type:"submit",value:"Log In",className:"loginButton text-white font-bold text-lg hover:bg-gray-700 p-2 mt-8",disabled:!b.isValid})]}),Object(f.jsx)("div",{className:"text-center pt-5 pb-12",children:Object(f.jsxs)("p",{children:["Forgot your password ? ",Object(f.jsx)(c.b,{to:"/forgotpassword",className:"underline font-semibold",children:"Click here"})]})})]})}},913:function(e,t,r){"use strict";r.d(t,"l",(function(){return d})),r.d(t,"i",(function(){return l})),r.d(t,"h",(function(){return p})),r.d(t,"d",(function(){return f})),r.d(t,"m",(function(){return m})),r.d(t,"g",(function(){return b})),r.d(t,"j",(function(){return g})),r.d(t,"a",(function(){return h})),r.d(t,"c",(function(){return y})),r.d(t,"k",(function(){return j})),r.d(t,"f",(function(){return v})),r.d(t,"e",(function(){return x})),r.d(t,"b",(function(){return O})),r.d(t,"n",(function(){return w})),r.d(t,"o",(function(){return N}));var s=r(915),n=r.n(s),a=r(215),o=r(916),c=r(918),u=r(4),i=o.a.BASE_API_URL;function d(e){return{type:u.mb,user:e}}function l(e){return function(t){localStorage.removeItem("x-access-token"),localStorage.removeItem("user"),Object(c.a)(!1),t(d({})),e.push("/login"),a.b.success("You have logged out successfully")}}function p(e,t){return function(r){return n.a.post(i+"/login",e).then((function(e){var s=e.data.data.token,n=e.data.data;localStorage.setItem("x-access-token",s),localStorage.setItem("user",JSON.stringify(n)),Object(c.a)(s),r(d(n)),a.b.success("You are signed In"),t.push("/")})).catch((function(e){var t=e.response.errors?Object.values(e.response.data.errors).join(", "):e.response.data.message;r(function(e){return{type:u.Pb,error:e}}(t)),a.b.error("Incorrect username/password")}))}}function f(e){return function(t){return n.a.get(i+"/model-components/model/"+e).then((function(e){return t((r=e.data.data,{type:u.M,data:r}));var r})).catch((function(e){var r;t((r=e,{type:u.N,message:r}))}))}}function m(e,t,r){return function(e){return e({type:u.rb}),n.a.put(i+"/model-components/".concat(r),t).then((function(s){a.b.success("Update completely successfully"),e(function(e,t,r){return{type:u.tb,message:e,data:t,id:r}}(s.data.message,t,r))})).catch((function(t){var r=t.response.data.errors?t.response.data.errors.message:t.response.data.error;e(function(e){return{type:u.sb,error:e}}(r)),a.b.error(r)}))}}function b(e){return function(t){return t({type:u.db}),n.a.post(i+"/invite-user",e).then((function(e){a.b.success("Invite sent successfully"),t(function(e,t){return{type:u.fb,message:e,data:t}}("Invite sent successfully",e.data.data))})).catch((function(e){var r=e.response.data.errors?e.response.data.errors.message:e.response.data.message;t(function(e){return{type:u.eb,error:e}}(r)),a.b.error(r)}))}}function g(e){return function(t){return t({type:u.gb}),n.a.post(i+"/remove-user",e).then((function(e){a.b.success("User removed from project successfully"),t(function(e,t){return{type:u.ib,message:e,data:t}}("User removed from project successfully",e.data.data))})).catch((function(e){var r=e.response.data.errors?e.response.data.errors.message:e.response.data.message;t(function(e){return{type:u.hb,error:e}}(r)),a.b.error(r)}))}}function h(e){return function(t){return t({type:u.j}),n.a.put(i+"/users/password",e).then((function(e){var r;204===e.status&&(a.b.success("Password changed successfully"),t((r="Password changed successfully",{type:u.l,message:r})))})).catch((function(e){var r=e.response.data.errors?e.response.data.errors.message:e.response.data.message;t(function(e){return{type:u.k,error:e}}(r)),a.b.error(r)}))}}function y(e){return function(t){return t({type:u.E}),n.a.post(i+"/password/request-reset",e).then((function(e){var r;a.b.success(e.data.message),t((r=e.data.message,{type:u.G,message:r}))})).catch((function(e){var r=(e.response.data.errors,e.response.data.message);t(function(e){return{type:u.F,error:e}}(r)),a.b.error(r)}))}}function j(e,t){return function(r){return r({type:u.jb}),n.a.post(i+"/reset-password",e).then((function(e){var s;a.b.success("Password reset successful"),r((s="Password reset successful",{type:u.lb,message:s})),t.push("/login")})).catch((function(e){var t=(e.response.data.errors,e.response.data.message);r(function(e){return{type:u.kb,error:e}}(t)),a.b.error(t)}))}}function v(){return function(e){return e({type:u.X}),n.a.get(i+"/users").then((function(t){var r,s;e((r=t.data.data,s=t.data.message,{type:u.Z,data:r,message:s}))})).catch((function(t){var r=(t.response.data.errors,t.response.data.message);e(function(e){return{type:u.Y,error:e}}(r))}))}}function x(e){return function(t){return t({type:u.ab}),n.a.get(i+"/user/"+e).then((function(e){var r,s;t((r=e.data.data,s=e.data.message,{type:u.cb,data:r,message:s}))})).catch((function(e){var r=(e.response.data.errors,e.response.data.message);t(function(e){return{type:u.bb,error:e}}(r))}))}}function O(e){return function(t){return t({type:u.v}),n.a.delete(i+"/user/".concat(e)).then((function(r){var s,n;t((s=e,n="User deleted successfully",{type:u.x,id:s,message:n})),a.b.success("User deleted successfully")})).catch((function(e){console.log(e.response);var r=(e.response.data.errors,e.response.data.message);t(function(e){return{type:u.w,error:e}}(r)),a.b.error(r)}))}}function w(e,t){return function(r){return r({type:u.Db}),n.a.put(i+"/user/".concat(t),e).then((function(e){r(function(e,t,r){return{type:u.Ib,message:e,data:t,id:r}}("User updated successfully",e.data.data,t)),a.b.success("User updated successfully")})).catch((function(e){var t=(e.response.data.errors,e.response.data.message);r(function(e){return{type:u.Eb,error:e}}(t)),a.b.error(t)}))}}function N(e,t){return function(r){return r({type:u.Fb}),n.a.put(i+"/user/".concat(t),e).then((function(e){r(function(e,t,r){return{type:u.Hb,message:e,data:t,id:r}}("User updated successfully",e.data.data,t)),a.b.success("User updated successfully")})).catch((function(e){var t=(e.response.data.errors,e.response.data.message);r(function(e){return{type:u.Gb,error:e}}(t)),a.b.error(t)}))}}},916:function(e,t,r){"use strict";t.a={BASE_API_URL:"https://advancedlogisticsapi-nqt92.ondigitalocean.app/api"}},918:function(e,t,r){"use strict";var s=r(915),n=r.n(s);t.a=function(e){e?n.a.defaults.headers.common["x-access-token"]=e:delete n.a.defaults.headers.common["x-access-token"]}}}]);
//# sourceMappingURL=15.e997773e.chunk.js.map