(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1232:function(e,t,n){var a={"./af":1048,"./af.js":1048,"./ar":1049,"./ar-dz":1050,"./ar-dz.js":1050,"./ar-kw":1051,"./ar-kw.js":1051,"./ar-ly":1052,"./ar-ly.js":1052,"./ar-ma":1053,"./ar-ma.js":1053,"./ar-sa":1054,"./ar-sa.js":1054,"./ar-tn":1055,"./ar-tn.js":1055,"./ar.js":1049,"./az":1056,"./az.js":1056,"./be":1057,"./be.js":1057,"./bg":1058,"./bg.js":1058,"./bm":1059,"./bm.js":1059,"./bn":1060,"./bn-bd":1061,"./bn-bd.js":1061,"./bn.js":1060,"./bo":1062,"./bo.js":1062,"./br":1063,"./br.js":1063,"./bs":1064,"./bs.js":1064,"./ca":1065,"./ca.js":1065,"./cs":1066,"./cs.js":1066,"./cv":1067,"./cv.js":1067,"./cy":1068,"./cy.js":1068,"./da":1069,"./da.js":1069,"./de":1070,"./de-at":1071,"./de-at.js":1071,"./de-ch":1072,"./de-ch.js":1072,"./de.js":1070,"./dv":1073,"./dv.js":1073,"./el":1074,"./el.js":1074,"./en-au":1075,"./en-au.js":1075,"./en-ca":1076,"./en-ca.js":1076,"./en-gb":1077,"./en-gb.js":1077,"./en-ie":1078,"./en-ie.js":1078,"./en-il":1079,"./en-il.js":1079,"./en-in":1080,"./en-in.js":1080,"./en-nz":1081,"./en-nz.js":1081,"./en-sg":1082,"./en-sg.js":1082,"./eo":1083,"./eo.js":1083,"./es":1084,"./es-do":1085,"./es-do.js":1085,"./es-mx":1086,"./es-mx.js":1086,"./es-us":1087,"./es-us.js":1087,"./es.js":1084,"./et":1088,"./et.js":1088,"./eu":1089,"./eu.js":1089,"./fa":1090,"./fa.js":1090,"./fi":1091,"./fi.js":1091,"./fil":1092,"./fil.js":1092,"./fo":1093,"./fo.js":1093,"./fr":1094,"./fr-ca":1095,"./fr-ca.js":1095,"./fr-ch":1096,"./fr-ch.js":1096,"./fr.js":1094,"./fy":1097,"./fy.js":1097,"./ga":1098,"./ga.js":1098,"./gd":1099,"./gd.js":1099,"./gl":1100,"./gl.js":1100,"./gom-deva":1101,"./gom-deva.js":1101,"./gom-latn":1102,"./gom-latn.js":1102,"./gu":1103,"./gu.js":1103,"./he":1104,"./he.js":1104,"./hi":1105,"./hi.js":1105,"./hr":1106,"./hr.js":1106,"./hu":1107,"./hu.js":1107,"./hy-am":1108,"./hy-am.js":1108,"./id":1109,"./id.js":1109,"./is":1110,"./is.js":1110,"./it":1111,"./it-ch":1112,"./it-ch.js":1112,"./it.js":1111,"./ja":1113,"./ja.js":1113,"./jv":1114,"./jv.js":1114,"./ka":1115,"./ka.js":1115,"./kk":1116,"./kk.js":1116,"./km":1117,"./km.js":1117,"./kn":1118,"./kn.js":1118,"./ko":1119,"./ko.js":1119,"./ku":1120,"./ku.js":1120,"./ky":1121,"./ky.js":1121,"./lb":1122,"./lb.js":1122,"./lo":1123,"./lo.js":1123,"./lt":1124,"./lt.js":1124,"./lv":1125,"./lv.js":1125,"./me":1126,"./me.js":1126,"./mi":1127,"./mi.js":1127,"./mk":1128,"./mk.js":1128,"./ml":1129,"./ml.js":1129,"./mn":1130,"./mn.js":1130,"./mr":1131,"./mr.js":1131,"./ms":1132,"./ms-my":1133,"./ms-my.js":1133,"./ms.js":1132,"./mt":1134,"./mt.js":1134,"./my":1135,"./my.js":1135,"./nb":1136,"./nb.js":1136,"./ne":1137,"./ne.js":1137,"./nl":1138,"./nl-be":1139,"./nl-be.js":1139,"./nl.js":1138,"./nn":1140,"./nn.js":1140,"./oc-lnc":1141,"./oc-lnc.js":1141,"./pa-in":1142,"./pa-in.js":1142,"./pl":1143,"./pl.js":1143,"./pt":1144,"./pt-br":1145,"./pt-br.js":1145,"./pt.js":1144,"./ro":1146,"./ro.js":1146,"./ru":1147,"./ru.js":1147,"./sd":1148,"./sd.js":1148,"./se":1149,"./se.js":1149,"./si":1150,"./si.js":1150,"./sk":1151,"./sk.js":1151,"./sl":1152,"./sl.js":1152,"./sq":1153,"./sq.js":1153,"./sr":1154,"./sr-cyrl":1155,"./sr-cyrl.js":1155,"./sr.js":1154,"./ss":1156,"./ss.js":1156,"./sv":1157,"./sv.js":1157,"./sw":1158,"./sw.js":1158,"./ta":1159,"./ta.js":1159,"./te":1160,"./te.js":1160,"./tet":1161,"./tet.js":1161,"./tg":1162,"./tg.js":1162,"./th":1163,"./th.js":1163,"./tk":1164,"./tk.js":1164,"./tl-ph":1165,"./tl-ph.js":1165,"./tlh":1166,"./tlh.js":1166,"./tr":1167,"./tr.js":1167,"./tzl":1168,"./tzl.js":1168,"./tzm":1169,"./tzm-latn":1170,"./tzm-latn.js":1170,"./tzm.js":1169,"./ug-cn":1171,"./ug-cn.js":1171,"./uk":1172,"./uk.js":1172,"./ur":1173,"./ur.js":1173,"./uz":1174,"./uz-latn":1175,"./uz-latn.js":1175,"./uz.js":1174,"./vi":1176,"./vi.js":1176,"./x-pseudo":1177,"./x-pseudo.js":1177,"./yo":1178,"./yo.js":1178,"./zh-cn":1179,"./zh-cn.js":1179,"./zh-hk":1180,"./zh-hk.js":1180,"./zh-mo":1181,"./zh-mo.js":1181,"./zh-tw":1182,"./zh-tw.js":1182};function r(e){e=s(e);return n(e)}function s(e){if(n.o(a,e))return a[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(a)},r.resolve=s,(e.exports=r).id=1232},1313:function(e,t,n){"use strict";var a=n(1),r=n.n(a),s=n(946);t.a=function(e){var t=e.title,n=e.categories,e=e.data;return r.a.createElement(s.Bar,{options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:t}}},data:{labels:n,datasets:[{label:"Elements Distribution",data:e,backgroundColor:"rgba(54, 142, 205)"}]}})}},1319:function(e,t,n){"use strict";n.r(t);var a=n(912),r=n.n(a),a=(n(378),n(900)),d=n.n(a),a=n(913),m=n.n(a),g=n(1),j=n.n(g),f=n(230),b=n(46),h=n(894),p=(n(946),n(1191)),E=n(1192),v=n(899);function y(e,t){if(e&&"N/A"!==e&&!isNaN(Date.parse(e))){var n=new Date,n=(new Date(e).getTime()-n.getTime())/864e5;return 0<n?["pastDueDate",t]:n<0&&-7<=n?["dueSoon",t]:["inTime",t]}}function k(e){var r=0,s=0,o=0,i=0,l=0,c=0,u={"Pre-manufactured":{dueSoon:0,pastDueDate:0,inTime:0},Manufactured:{dueSoon:0,pastDueDate:0,inTime:0},"In storage":{dueSoon:0,pastDueDate:0,inTime:0},"In transit":{dueSoon:0,pastDueDate:0,inTime:0},"Offloaded onsite":{dueSoon:0,pastDueDate:0,inTime:0},"Installed onsite":{dueSoon:0,pastDueDate:0,inTime:0}};return Array.isArray(e)&&0<e.length&&e.map(function(e){switch(e.TIES_0116_DesPh_Status){case"Pre-manufactured":var t=y(e.TIES_0113_DesPh_PlannedManufacturingDate,e.TIES_0116_DesPh_Status);t&&u[t[1]][t[0]]++,r++;break;case"Manufactured":t=y(e.TIES_0206_ManPh_ManufacturingDate,e.TIES_0116_DesPh_Status);t&&u[t[1]][t[0]]++,s++;break;case"In storage":var n=y(e.TIES_0228_ManPh_StorageDate,e.TIES_0116_DesPh_Status);n&&u[n[1]][n[0]]++,o++;break;case"In transit":n=y(e.TIES_0304_DelPh_CollectionDate,e.TIES_0116_DesPh_Status);n&&u[n[1]][n[0]]++,i++;break;case"Offloaded onsite":var a=y(e.TIES_0403_InsPh_OnsiteDeliveryDate,e.TIES_0116_DesPh_Status);a&&u[a[1]][a[0]]++,c++;break;case"Installed onsite":a=y(e.TIES_0425_InsPh_InstallationDate,e.TIES_0116_DesPh_Status);a&&u[a[1]][a[0]]++,l++;break;default:0}}),[[r,s,o,i,c,l],u]}t.default=function(e){var s=Object(f.b)(),t=Object(g.useState)(null),n=d()(t,2),o=n[0],t=(n[1],Object(g.useState)({})),n=d()(t,2),a=n[0],i=n[1],t=Object(g.useState)([]),n=d()(t,2),l=(n[0],n[1]),t=Object(g.useState)(!1),n=d()(t,2),t=(n[0],n[1],Object(g.useState)([])),n=d()(t,2),t=n[0],c=n[1],u=(Object(b.h)(),Object(f.c)(function(e){return e.assetCategory.assetCategories}),Object(f.c)(function(e){return e.project.projects})),n=(Object(f.c)(function(e){return e.assetField.assetFields}),Object(f.c)(function(e){return e.auth.user}),Object(f.c)(function(e){return e.user.users}),Object(g.useState)(!1)),n=d()(n,2),n=(n[0],n[1],Object(g.useState)(null)),n=d()(n,2);n[0],n[1],a&&a.title,t&&0<t.length&&k(t)[0],t&&0<t.length&&Object.values(k(t)[1]).map(function(e){return e.inTime}),t&&0<t.length&&Object.values(k(t)[1]).map(function(e){return e.dueSoon}),t&&0<t.length&&Object.values(k(t)[1]).map(function(e){return e.pastDueDate});Object(g.useEffect)(r()(m.a.mark(function e(){var t,n,a,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u&&0<u.length?u.filter(function(e){return null!==e.model}):[],l(t),u&&0<u.length&&null===o)return n=u.find(function(e){return null!==e.model}),e.next=6,s(Object(v.d)(n.model.id));e.next=11;break;case 6:a=e.sent.data,i(n),a&&0<a.length?c(a):c([]),e.next=21;break;case 11:if(u&&0<u.length&&null!==o)return r=t.find(function(e){return e.model.id===parseInt(o)}),i(r),e.next=16,s(Object(v.d)(o));e.next=20;break;case 16:r=e.sent.data,c(r),e.next=21;break;case 20:return e.abrupt("return");case 21:case"end":return e.stop()}},e)})),[s,u,o]);return j.a.createElement(j.a.Fragment,null,j.a.createElement(h.T,null,j.a.createElement(h.j,{xs:"6",lg:"6",className:"h-50"},j.a.createElement(h.g,{accentColor:"primary",textColor:"primary"},j.a.createElement(h.h,null,j.a.createElement(h.T,{style:{textAlign:"center"}},j.a.createElement(h.j,{lg:"3",md:"3",sm:"12"}," ",j.a.createElement(p.a,{icon:E.a,size:"2x"})),j.a.createElement(h.j,{lg:"9",md:"9",sm:"12"}," ",j.a.createElement("span",{className:"text-lg text-lg-center"}," ",u?u.length:"Loading..."," "),j.a.createElement("span",{className:"d-block text-uppercase text-muted font-weight-bold text-sm-start"},"Project")))))),j.a.createElement(h.j,{xs:"6",lg:"6",className:"h-50"},j.a.createElement(h.g,{accentColor:"info",textColor:"info"},j.a.createElement(h.h,null,j.a.createElement(h.T,{style:{textAlign:"center"}},j.a.createElement(h.j,{lg:"3",md:"3",sm:"12"},j.a.createElement(p.a,{icon:E.c,size:"2x"})," "),j.a.createElement(h.j,{lg:"9",md:"9",sm:"12"},j.a.createElement("span",{className:"text-lg text-lg-center"}," 3 "),j.a.createElement("span",{className:"d-block text-uppercase text-muted font-weight-bold text-sm-start"}," Users")))))),j.a.createElement(h.j,{xs:"12",lg:"12",className:"h-50"},j.a.createElement(h.g,{accentColor:"success",textColor:"info"},j.a.createElement(h.i,null,j.a.createElement("h2",null,"FIRE BIM")),j.a.createElement(h.h,null,"About us")))))}},1321:function(e,t,n){"use strict";n.r(t),function(k){var e=n(912),x=n.n(e),e=n(900),T=n.n(e),e=n(913),_=n.n(e),w=n(1),S=n.n(w),D=n(230),e=n(1310),O=n.n(e),e=n(901),C=n.n(e),I=n(946),N=n(1313),e=n(1314),P=n.n(e),z=n(894),R=n(904),V=window.Autodesk,A=["30 mins","60 mins","90 mins","120 mins"];t.default=function(t){var e=Object(w.useState)(null),n=T()(e,2),a=n[0],r=n[1],s=Object(w.useState)(t.match.params.urn),o=T()(s,2),i=o[0],l=o[1],e=Object(w.useState)({}),n=T()(e,2),c=n[0],u=n[1],s=Object(w.useState)(null),o=T()(s,2),d=o[0],m=o[1],e=Object(w.useState)([]),n=T()(e,2),g=n[0],j=n[1],s=Object(w.useState)([]),o=T()(s,2),f=o[0],b=o[1],e=Object(w.useState)([]),n=T()(e,2),s=n[0],h=n[1],o=Object(w.useState)(1),e=T()(o,2),n=e[0],p=e[1],o=Object(D.b)(),e={labels:f,datasets:[{label:"# of Votes",data:s,backgroundColor:["rgba(223, 80, 112)","rgba(54, 142, 205)","rgba(255, 206, 86)","rgba(75, 192, 192)","rgba(153, 102, 255)","rgba(255, 159, 64)","rgba(45, 220, 56)","rgba(54, 162, 235)","rgba(165, 100, 56)","rgba(65, 190, 30)","rgba(255, 99, 132)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]};Object(w.useEffect)(function(){function e(){return(e=x()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.a.get(R.a.BASE_API_URL+"/forge/token").then(function(e){u(e.data.data.token)}).catch(function(e){return e}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),l(t.match.params.urn)},[o,t]);function E(e,t){k.log("FIREBIM extension"),V.Viewing.Extension.call(this,e,t)}function v(e,n){var a,r=0,s=[];e.getObjectTree(function(e){(function t(e){r++,0!=a.getChildCount(e)?a.enumNodeChildren(e,function(e){t(e)},!1):s.push(e),0==--r&&n(s)})((a=e).getRootId())})}E.prototype.load=function(){return d.toolbar?(this.createUI(),this.onSelectionBinded=this.onSelectionEvent.bind(this),d.addEventListener(V.Viewing.SELECTION_CHANGED_EVENT,this.onSelectionBinded)):(this.onToolbarCreatedBinded=this.onToolbarCreated.bind(this),d.addEventListener(V.Viewing.TOOLBAR_CREATED_EVENT,this.onToolbarCreatedBinded)),!0};function y(e){d.select(e.dbId),d.fitToView(e.dbId,d.model),(e=d.getPropertyPanel()).setCategoryCollapsed({name:"IFC Parameters",type:"category"}),e.setCategoryCollapsed({name:"Text",type:"category"},!1)}return S.a.createElement(S.a.Fragment,null,S.a.createElement(z.T,{style:{height:"85vh",marginTop:"-30px"}},S.a.createElement(z.j,{xs:"7",xl:"7"},S.a.createElement(O.a,{version:"7.0",urn:i,view:a,headless:!(E.prototype.onToolbarCreated=function(){this.viewer.removeEventListener(V.Viewing.TOOLBAR_CREATED_EVENT,this.onToolbarCreatedBinded),this.onToolbarCreatedBinded=null,this.createUI()}),onViewerError:function(e){k.log("Error loading viewer.")},onTokenRequest:function(){var t=x()(_.a.mark(function e(t){var n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t)return e.next=3,{access_token:c.access_token,expires_in:c.expires_in,token_type:"Bearer"};e.next=5;break;case 3:(n=e.sent)&&t(n.access_token,n.expires_in);case 5:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),onDocumentLoad:function(e,t){0===t.length?k.error("Document contains no viewables."):(V.Viewing.theExtensionManager.registerExtension("FIREBIMExtension",E),r(t[0]))},onDocumentError:function(e,t){k.log("Error loading a document",e)},onModelLoad:function(o,e){m(o),o.loadExtension(E);var i=[];o.addEventListener(V.Viewing.SELECTION_CHANGED_EVENT,function(e){o.getPropertyPanel(!0).setVisible(!0)}),o.addEventListener(V.Viewing.TOOLBAR_CREATED_EVENT,function(e){var t=new V.Viewing.UI.Button("report-button");t.addClass("report"),t.setToolTip("Generate Report"),t.onClick=function(e){return!1};var n=new V.Viewing.UI.ControlGroup("firebim-toolbar");n.addControl(t),o.toolbar.addControl(n)}),v(o,function(e){o.model.getBulkProperties(e,["Category","Fire Rating"],function(e){for(var t=0;t<e.length;t++){var n=Math.floor(Math.random()*A.length),a=o.model.getInstanceTree().getNodeName(e[t].dbId),r=void 0!==e[t].properties[0]?e[t].properties[0].displayValue.replace("Revit","").trim():"",n=A[n];void 0===e[t].properties[0]||f.includes(r)||f.push(r),i.push({id:t+1,component:a,category:r,rating:n,dbId:e[t].dbId})}j(i);var s=i.reduce(function(e,t){return e[t.category]=(e[t.category]||0)+1,e},{});b(Object.keys(s)),h(Object.values(s))})})},onModelError:function(e,t){k.log("Error loading the model.")}})),S.a.createElement(z.j,{xs:"5",xl:"5",className:"pb-2",style:{borderLeft:"3px solid"}},S.a.createElement(z.g,{className:"shadow-lg py-3 px-3 border-left",style:{background:"#eff2f5",overflow:"scroll"}},S.a.createElement(z.P,{variant:"tabs",role:"tablist"},S.a.createElement(z.Q,null,S.a.createElement(z.R,{href:"#",active:1===n,onClick:function(){return p(1)}},"All Components")),S.a.createElement(z.Q,null,S.a.createElement(z.R,{href:"#",active:2===n,onClick:function(){return p(2)}},"Fire Rating")),S.a.createElement(z.Q,null,S.a.createElement(z.R,{href:"#","data-tab":"home",active:3===n,onClick:function(){return p(3)}},"Elements Distribution"))),S.a.createElement(z.fb,null,3===n?S.a.createElement("div",null,S.a.createElement("div",{className:"pt-4 py-4",style:{minHeight:"350px"}},S.a.createElement(I.Doughnut,{data:e})),S.a.createElement("hr",null),S.a.createElement("div",{className:"py-4 h-1/2"},S.a.createElement(N.a,{title:"Elements Distribution",categories:f,data:s}))):S.a.createElement("div",null),2===n?S.a.createElement("div",null,f&&0<f.length,f.map(function(t,e){var n=g.filter(function(e){return e.category===t}),a=n.map(function(e){return e.rating}),r=a.filter(function(e){return"30 mins"===e}).length,s=a.filter(function(e){return"60 mins"===e}).length,o=a.filter(function(e){return"90 mins"===e}).length,a=a.filter(function(e){return"120 mins"===e}).length;return S.a.createElement(S.a.Fragment,null,S.a.createElement(P.a,{trigger:t+" ("+n.length+")",key:e,triggerTagName:"button",triggerStyle:{padding:"5px",borderRadius:"5px",marginTop:"15px",fontWeight:"bold"}},S.a.createElement("div",{className:"px-5 mb-4"},S.a.createElement(N.a,{title:"Fire Rating Distribution",categories:A,data:[r,s,o,a]})),S.a.createElement(z.m,{items:n,fields:["id","category","component","fire rating"],itemsPerPage:10,pagination:!0,tableFilter:!0,sorter:!0,size:400,color:"#fff",style:{height:"100%",overflowY:"scroll"},hover:!0,scopedSlots:{component:function(e){return S.a.createElement("td",{style:{width:"40%"},onClick:function(){return y(e)}},S.a.createElement("div",null,e.component))},"fire rating":function(e){return S.a.createElement("td",{style:{width:"35%"}},e.rating)},id:function(e){return S.a.createElement("td",{style:{width:"5%"}},e.id)},category:function(e){return S.a.createElement("td",{style:{width:"20%"}},e.category)}}})),S.a.createElement("hr",null))})):S.a.createElement("div",null),1===n?S.a.createElement("div",null,S.a.createElement(P.a,{trigger:"djd",key:1,triggerTagName:"button",triggerStyle:{padding:"5px",borderRadius:"5px",marginTop:"15px",fontWeight:"bold"}},S.a.createElement("div",{className:"px-5 mb-4"},"jhi")),0<g.length?S.a.createElement(z.m,{items:g,fields:["id","category","component","fire rating"],itemsPerPage:13,pagination:!0,tableFilter:!0,sorter:!0,color:"#fff",style:{height:"100%",overflowY:"scroll"},hover:!0,scopedSlots:{component:function(e){return S.a.createElement("td",{style:{width:"40%"},onClick:function(){return y(e)}},e.component)},"fire rating":function(e){return S.a.createElement("td",{style:{width:"35%"}},e.rating)},category:function(e){return S.a.createElement("td",{style:{width:"20%"}},e.category)}}}):S.a.createElement("div",{style:{paddingTop:5}},"...loading")):S.a.createElement("div",null))))))}}.call(this,n(42))}}]);