(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1334:function(e,t,n){"use strict";n.r(t);var i=n(44),V=n.n(i),i=n(126),j=n.n(i),B=n(1),N=n.n(B),I=n(238),L=n(910),i=n(930),A=n.n(i),_=n(912),P=n(911);function l(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach(function(e){V()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var M=["actions"],R={design:"DesPh",delivery:"DelPh",manufacture:"ManPh",installation:"InsPh"};t.default=function(n){var e=Object(B.useState)(!1),t=j()(e,2),i=t[0],l=t[1],s=Object(B.useState)(0),o=j()(s,2),a=(o[0],o[1]),r=Object(B.useState)(!1),c=j()(r,2),u=c[0],p=c[1],d=Object(B.useState)({}),h=j()(d,2),C=h[0],m=h[1],g=Object(I.c)(function(e){return e.project.projects}),e=Object(B.useState)([]),t=j()(e,2),s=t[0],f=t[1],o=Object(B.useState)({}),r=j()(o,2),y=r[0],b=r[1],c=Object(B.useState)(null),d=j()(c,2),h=d[0],v=d[1],e=Object(B.useState)(!1),t=j()(e,2),O=t[0],o=(t[1],Object(B.useState)(10)),r=j()(o,2),c=r[0],S=r[1],d=Object(I.c)(function(e){return e.model.assets}),E=Object(I.b)(),e=Object(B.useState)({isValid:!1,values:{},touched:{},errors:{}}),t=j()(e,2),x=t[0],k=t[1],w=["id","model","models_id","createdAt","updatedAt","qr_code","lastModifiedBy"],o=d&&0<d.length?["id","status"].concat(Object.keys(d[0]).slice(2,5)).concat(M):[],D=Object(I.c)(function(e){return e.auth.user});Object(B.useEffect)(function(){var e=n.match.params.modelId,t=g&&0<g.length?g.find(function(e){return!!e.model&&e.model.id===Number(n.match.params.modelId)}):null;m(t),a(e),k(function(e){return T({},e)}),0===Object.keys(x.values).length&&E(Object(_.d)(e))},[E,x.values,n.match.params.modelId,g]);function F(t){t.preventDefault(),k(function(e){return T(T({},e),{},{values:T(T({},e.values),{},V()({},t.target.name,"checkbox"===t.target.type?t.target.checked:t.target.value)),touched:T(T({},e.touched),{},V()({},t.target.name,!0))})})}r=function(e){v({selected:e}),f(["id","status"].concat(e.map(function(e){return e.value})).concat(["actions"]))},e=y?Object.keys(y).filter(function(e){return!w.includes(e)}).map(function(e,t){return N.a.createElement("div",{key:e},N.a.createElement(L.I,{className:"font-weight-bold"},e),": ",N.a.createElement(L.I,null,y[e]))}):null,t=y?Object.keys(y).filter(function(e){return!w.includes(e)}).map(function(e,t){return N.a.createElement(L.j,{xs:"12",m:"12",lg:"12",key:e,className:""},N.a.createElement(L.u,{className:"mt-2 d-block"},N.a.createElement(L.T,null,N.a.createElement(L.j,{lg:"5"},N.a.createElement(L.I,{htmlFor:e,className:"font-weight-bold text-left"},e)),N.a.createElement(L.j,{lg:"7"},N.a.createElement(L.C,{type:"text",id:e+t,name:e,onChange:F,placeholder:"",value:x.values[e]||"",className:"",disabled:D&&"admin"!==D.role?!e.includes(R[D.role]):O,required:!0})))))}):null;return N.a.createElement(N.a.Fragment,null,N.a.createElement(L.T,null,N.a.createElement(L.j,{xs:"12",lg:"12"},N.a.createElement(L.g,null,N.a.createElement(L.i,{className:"d-flex flex-row justify-between"},N.a.createElement("div",null,N.a.createElement("h4",{className:"pt-3 mr-20 float-left"},C?C.title:null)),N.a.createElement("div",{className:"d-inline-flex mr-24 ml-24"},N.a.createElement("span",null,N.a.createElement("i",{className:"fa fa-cog pr-2 pt-3"})),N.a.createElement("span",null,d&&0<d.length?N.a.createElement(A.a,{options:Object.keys(d[0]).filter(function(e){return!w.includes(e)}).map(function(e,t){return{value:e,key:t}}),placeholder:"Select",onSelect:r,onRemove:r,showCheckbox:!0,selectedValues:h,closeOnSelect:!1,displayValue:"value"}):null),N.a.createElement("span",{className:"pt-2 pl-4"},N.a.createElement("i",{className:"fa fa-sliders-h"}),N.a.createElement("select",{"aria-label":"Select items per page",onChange:function(e){S(Number(e.target.value))},name:"itemsPerPage",value:c},N.a.createElement("option",{value:"10"},"10"),N.a.createElement("option",{value:"25"},"25"),N.a.createElement("option",{value:"50"},"50"))))),N.a.createElement(L.h,{className:"overflow-hidden"},d&&0<d.length?N.a.createElement(L.m,{items:d,fields:s&&0<s.length?s:o,itemsPerPage:c,pagination:!0,tableFilter:!0,sorter:!0,hover:!0,sm:!0,addTableClasses:"assetsTable",scopedSlots:{actions:function(t,e){return N.a.createElement("td",{className:"py-2"},N.a.createElement(L.e,{className:"pl-6",color:"info",variant:"ghost",onClick:function(){return e=t,l(!0),void b(e);var e}},N.a.createElement(P.a,{name:"cil-notes",customClasses:"c-sidebar-nav-icon"})),N.a.createElement(L.e,{className:"pl-6 px-3",color:"primary",variant:"ghost",onClick:function(){return e=t,p(!0),b(e),void k({values:e});var e}},N.a.createElement(P.a,{name:"cil-pencil",color:"info",customClasses:"c-sidebar-nav-icon"})))},id:function(e,t){return N.a.createElement("td",null,t+1)},status:function(e,t){return N.a.createElement("td",null,N.a.createElement("span",{className:e.TIES_0116_DesPh_Status.replace(/\s/g,"").toLowerCase()}),e.TIES_0116_DesPh_Status)}}}):N.a.createElement("div",null,"No asset data !!!"))),N.a.createElement(L.K,{show:i,onClose:l,size:"lg"},N.a.createElement(L.N,{closeButton:!0}," ",y?"Asset: "+y.TIES_0101_DesPh_Category:"Asset Info"),N.a.createElement(L.L,null,e)),N.a.createElement(L.K,{show:u,onClose:p,size:"lg"},N.a.createElement(L.N,{closeButton:!0}," ",y?"Asset: "+y.TIES_0101_DesPh_Category:"Asset Info"),N.a.createElement(L.L,null,N.a.createElement(L.t,{className:"form-horizontal",onSubmit:function(e){e.preventDefault(),E(Object(_.l)(x.values.TIES_0105_DesPh_UniqueAssetID,x.values,y.id))}},N.a.createElement(L.T,null,t,N.a.createElement(L.M,{align:"right"},N.a.createElement(L.e,{className:"text-white bg-info",type:"submit"},"Submit")," ",N.a.createElement(L.e,{color:"secondary",onClick:function(){return p(!1)}},"Cancel")))))))))}},930:function(e,t,n){"use strict";e.exports=n(931)},931:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,l,u=(l=n(1))&&"object"==typeof l&&"default"in l?l.default:l;function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}c='*,:after,:before{box-sizing:border-box}.multiSelectContainer{position:relative;text-align:left;width:100%}.disable_ms{pointer-events:none;opacity:.5}.searchWrapper{border:1px solid #ccc;border-radius:4px;padding:5px;min-height:22px;position:relative}.multiSelectContainer input{border:none;margin-top:3px;background:transparent}.multiSelectContainer input:focus{outline:none}.chip{padding:4px 10px;background:#0096fb;margin-right:5px;margin-bottom:5px;border-radius:11px;display:inline-flex;align-items:center;font-size:13px;line-height:19px;color:#fff}.chip,.singleChip{white-space:nowrap}.singleChip{background:none;border-radius:none;color:inherit}.singleChip i{display:none}.closeIcon{height:13px;width:13px;float:right;margin-left:5px;cursor:pointer}.optionListContainer{position:absolute;width:100%;background:#fff;border-radius:4px;margin-top:1px;z-index:2}.multiSelectContainer ul{display:block;padding:0;margin:0;border:1px solid #ccc;border-radius:4px;max-height:250px;overflow-y:auto}.multiSelectContainer li{padding:10px}.multiSelectContainer li:hover{background:#0096fb;color:#fff;cursor:pointer}.checkbox{margin-right:10px}.disableSelection{pointer-events:none;opacity:.5}.highlightOption{background:#0096fb;color:#fff}.displayBlock{display:block}.displayNone{display:none}.notFound{padding:10px;display:block}.singleSelect{padding-right:20px}li.groupHeading{color:#908e8e;pointer-events:none;padding:5px 15px}li.groupChildEle{padding-left:30px}.icon_down_dir{position:absolute;right:10px;top:50%;transform:translateY(-50%);width:14px}.icon_down_dir:before{content:"\\e803"}.custom-close{display:flex}',n=(i=void 0===i?{}:i).insertAt,"undefined"!=typeof document&&(l=document.head||document.getElementsByTagName("head")[0],(i=document.createElement("style")).type="text/css","top"===n&&l.firstChild?l.insertBefore(i,l.firstChild):l.appendChild(i),i.styleSheet?i.styleSheet.cssText=c:i.appendChild(document.createTextNode(c)));var r={circle:"data:image/svg+xml,%3Csvg%20height%3D%22512px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20width%3D%22512px%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M256%2C33C132.3%2C33%2C32%2C133.3%2C32%2C257c0%2C123.7%2C100.3%2C224%2C224%2C224c123.7%2C0%2C224-100.3%2C224-224C480%2C133.3%2C379.7%2C33%2C256%2C33z%20%20%20%20M364.3%2C332.5c1.5%2C1.5%2C2.3%2C3.5%2C2.3%2C5.6c0%2C2.1-0.8%2C4.2-2.3%2C5.6l-21.6%2C21.7c-1.6%2C1.6-3.6%2C2.3-5.6%2C2.3c-2%2C0-4.1-0.8-5.6-2.3L256%2C289.8%20%20%20l-75.4%2C75.7c-1.5%2C1.6-3.6%2C2.3-5.6%2C2.3c-2%2C0-4.1-0.8-5.6-2.3l-21.6-21.7c-1.5-1.5-2.3-3.5-2.3-5.6c0-2.1%2C0.8-4.2%2C2.3-5.6l75.7-76%20%20%20l-75.9-75c-3.1-3.1-3.1-8.2%2C0-11.3l21.6-21.7c1.5-1.5%2C3.5-2.3%2C5.6-2.3c2.1%2C0%2C4.1%2C0.8%2C5.6%2C2.3l75.7%2C74.7l75.7-74.7%20%20%20c1.5-1.5%2C3.5-2.3%2C5.6-2.3c2.1%2C0%2C4.1%2C0.8%2C5.6%2C2.3l21.6%2C21.7c3.1%2C3.1%2C3.1%2C8.2%2C0%2C11.3l-75.9%2C75L364.3%2C332.5z%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",circle2:"data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2096%2096%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M48%2C0A48%2C48%2C0%2C1%2C0%2C96%2C48%2C48.0512%2C48.0512%2C0%2C0%2C0%2C48%2C0Zm0%2C84A36%2C36%2C0%2C1%2C1%2C84%2C48%2C36.0393%2C36.0393%2C0%2C0%2C1%2C48%2C84Z%22%2F%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M64.2422%2C31.7578a5.9979%2C5.9979%2C0%2C0%2C0-8.4844%2C0L48%2C39.5156l-7.7578-7.7578a5.9994%2C5.9994%2C0%2C0%2C0-8.4844%2C8.4844L39.5156%2C48l-7.7578%2C7.7578a5.9994%2C5.9994%2C0%2C1%2C0%2C8.4844%2C8.4844L48%2C56.4844l7.7578%2C7.7578a5.9994%2C5.9994%2C0%2C0%2C0%2C8.4844-8.4844L56.4844%2C48l7.7578-7.7578A5.9979%2C5.9979%2C0%2C0%2C0%2C64.2422%2C31.7578Z%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",close:"data:image/svg+xml,%3Csvg%20height%3D%22135.467mm%22%20style%3D%22shape-rendering%3AgeometricPrecision%3B%20text-rendering%3AgeometricPrecision%3B%20image-rendering%3AoptimizeQuality%3B%20fill-rule%3Aevenodd%3B%20clip-rule%3Aevenodd%22%20viewBox%3D%220%200%2013547%2013547%22%20width%3D%22135.467mm%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20%20%20%20%20.fil0%20%7Bfill%3Anone%7D%20%20%20%20%20%20%20%20%20%20%20%20.fil1%20%7Bfill%3A%23fff%7D%20%20%20%20%20%20%20%20%3C%2Fstyle%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Ebene_x0020_1%22%3E%20%20%20%20%20%20%20%20%3Cpolygon%20class%3D%22fil0%22%20points%3D%220%2C0%2013547%2C0%2013547%2C13547%200%2C13547%20%22%2F%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22fil1%22%20d%3D%22M714%2012832l12118%200%200%20-12117%20-12118%200%200%2012117zm4188%20-2990l1871%20-1871%201871%201871%201197%20-1197%20-1871%20-1871%201871%20-1871%20-1197%20-1197%20-1871%201871%20-1871%20-1871%20-1197%201197%201871%201871%20-1871%201871%201197%201197z%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",cancel:"data:image/svg+xml,%3Csvg%20height%3D%22512px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20width%3D%22512px%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M443.6%2C387.1L312.4%2C255.4l131.5-130c5.4-5.4%2C5.4-14.2%2C0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4%20%20L256%2C197.8L124.9%2C68.3c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4L68%2C105.9c-5.4%2C5.4-5.4%2C14.2%2C0%2C19.6l131.5%2C130L68.4%2C387.1%20%20c-2.6%2C2.6-4.1%2C6.1-4.1%2C9.8c0%2C3.7%2C1.4%2C7.2%2C4.1%2C9.8l37.4%2C37.6c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1L256%2C313.1l130.7%2C131.1%20%20c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1l37.4-37.6c2.6-2.6%2C4.1-6.1%2C4.1-9.8C447.7%2C393.2%2C446.2%2C389.7%2C443.6%2C387.1z%22%2F%3E%3C%2Fsvg%3E"},c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(p,u.Component),function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(p.prototype,[{key:"initialSetValue",value:function(){var e=this.props,t=e.groupBy,n=this.state.options;e.showCheckbox||e.singleSelect||this.removeSelectedValuesFromOptions(!1),t&&this.groupByOptions(n)}},{key:"resetSelectedValues",value:function(){var t=this,n=this.state.unfilteredOptions;return new Promise(function(e){t.setState({selectedValues:[],preSelectedValues:[],options:n,filteredOptions:n},function(){e(),t.initialSetValue()})})}},{key:"getSelectedItems",value:function(){return this.state.selectedValues}},{key:"getSelectedItemsCount",value:function(){return this.state.selectedValues.length}},{key:"componentDidMount",value:function(){this.initialSetValue(),this.searchWrapper.current.addEventListener("click",this.listenerCallback)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.options,i=t.selectedValues,t=e.selectedValues;JSON.stringify(e.options)!==JSON.stringify(n)&&this.setState({options:n,filteredOptions:n,unfilteredOptions:n},this.initialSetValue),JSON.stringify(t)!==JSON.stringify(i)&&this.setState({selectedValues:Object.assign([],i),preSelectedValues:Object.assign([],i)},this.initialSetValue)}},{key:"listenerCallback",value:function(){this.searchBox.current.focus()}},{key:"componentWillUnmount",value:function(){this.optionTimeout&&clearTimeout(this.optionTimeout),this.searchWrapper.current.removeEventListener("click",this.listenerCallback)}},{key:"removeSelectedValuesFromOptions",value:function(e){var t=this.props,n=t.isObject,i=t.displayValue,l=t.groupBy,s=this.state,t=s.selectedValues,o=void 0===t?[]:t,t=s.unfilteredOptions;if(!e&&l&&this.groupByOptions(s.options),o.length||e){if(n){n=t.filter(function(t){return-1===o.findIndex(function(e){return e[i]===t[i]})});return l&&this.groupByOptions(n),void this.setState({options:n,filteredOptions:n},this.filterOptionsByInput)}t=t.filter(function(e){return-1===o.indexOf(e)});this.setState({options:t,filteredOptions:t},this.filterOptionsByInput)}}},{key:"groupByOptions",value:function(e){var i=this.props.groupBy,e=e.reduce(function(e,t){var n=t[i]||"Others";return e[n]=e[n]||[],e[n].push(t),e},Object.create({}));this.setState({groupedObject:e})}},{key:"onChange",value:function(e){var t=this.props.onSearch;this.setState({inputValue:e.target.value},this.filterOptionsByInput),t&&t(e.target.value)}},{key:"filterOptionsByInput",value:function(){var t=this,e=this.state,n=e.inputValue,i=this.props,l=i.displayValue,i=e.filteredOptions.filter(i.isObject?function(e){return t.matchValues(e[l],n)}:function(e){return t.matchValues(e,n)});this.groupByOptions(i),this.setState({options:i})}},{key:"matchValues",value:function(e,t){return this.props.caseSensitiveSearch?-1<e.indexOf(t):e.toLowerCase?-1<e.toLowerCase().indexOf(t.toLowerCase()):-1<e.toString().indexOf(t)}},{key:"onArrowKeyNavigation",value:function(e){var t=this.state,n=t.options,i=t.highlightOption,l=t.toggleOptionsList,s=t.selectedValues;8!==e.keyCode||t.inputValue||this.props.disablePreSelectedValues||!s.length||this.onRemoveSelectedItem(s.length-1),n.length&&(38===e.keyCode?this.setState(0<i?function(e){return{highlightOption:e.highlightOption-1}}:{highlightOption:n.length-1}):40===e.keyCode?this.setState(i<n.length-1?function(e){return{highlightOption:e.highlightOption+1}}:{highlightOption:0}):"Enter"===e.key&&n.length&&l&&-1!==i&&this.onSelectItem(n[i]))}},{key:"onRemoveSelectedItem",value:function(t){var e=this,n=this.state.selectedValues,i=this.props,l=i.onRemove,s=i.showCheckbox,o=i.displayValue,i=i.isObject?n.findIndex(function(e){return e[o]===t[o]}):n.indexOf(t);n.splice(i,1),l(n,t),this.setState({selectedValues:n},function(){s||e.removeSelectedValuesFromOptions(!0)}),this.props.closeOnSelect||this.searchBox.current.focus()}},{key:"onSelectItem",value:function(e){var t=this,n=this.state.selectedValues,i=this.props,l=i.selectionLimit,s=i.onSelect,o=i.singleSelect,a=i.showCheckbox;if(this.state.keepSearchTerm||this.setState({inputValue:""}),o)return this.onSingleSelect(e),void s([e],e);this.isSelectedValue(e)?this.onRemoveSelectedItem(e):l!=n.length&&(n.push(e),s(n,e),this.setState({selectedValues:n},function(){a?t.filterOptionsByInput():t.removeSelectedValuesFromOptions(!0)}),this.props.closeOnSelect||this.searchBox.current.focus())}},{key:"onSingleSelect",value:function(e){this.setState({selectedValues:[e],toggleOptionsList:!1})}},{key:"isSelectedValue",value:function(t){var e=this.props,n=e.displayValue,i=this.state.selectedValues;return e.isObject?0<i.filter(function(e){return e[n]===t[n]}).length:0<i.filter(function(e){return e===t}).length}},{key:"renderOptionList",value:function(){var e=this.props,t=e.groupBy,n=e.style,i=e.emptyRecordMsg,l=e.loadingMessage,s=void 0===l?"loading...":l,l=this.state.options;return e.loading?u.createElement("ul",{className:"optionContainer",style:n.optionContainer},"string"==typeof s&&u.createElement("span",{style:n.loadingMessage,className:"notFound"},s),"string"!=typeof s&&s):u.createElement("ul",{className:"optionContainer",style:n.optionContainer},0===l.length&&u.createElement("span",{style:n.notFound,className:"notFound"},i),t?this.renderGroupByOptions():this.renderNormalOption())}},{key:"renderGroupByOptions",value:function(){var n=this,e=this.props,t=e.isObject,i=void 0!==t&&t,l=e.displayValue,s=e.showCheckbox,o=e.style,a=e.singleSelect,r=this.state.groupedObject;return Object.keys(r).map(function(e){return u.createElement(u.Fragment,{key:e},u.createElement("li",{className:"groupHeading",style:o.groupHeading},e),r[e].map(function(e,t){return u.createElement("li",{key:"option".concat(t),style:o.option,className:"\n               groupChildEle ".concat(n.fadeOutSelection(e)&&"disableSelection","\n                ").concat(n.isDisablePreSelectedValues(e)&&"disableSelection"," option\n              "),onClick:function(){return n.onSelectItem(e)}},s&&!a&&u.createElement("input",{type:"checkbox",className:"checkbox",readOnly:!0,checked:n.isSelectedValue(e)}),i?e[l]:(e||"").toString())}))})}},{key:"renderNormalOption",value:function(){var n=this,e=this.props,t=e.isObject,i=void 0!==t&&t,l=e.displayValue,s=e.showCheckbox,o=e.style,a=e.singleSelect,r=this.state.highlightOption;return this.state.options.map(function(e,t){return u.createElement("li",{key:"option".concat(t),style:o.option,className:"\n              ".concat(r===t?"highlightOption highlight":""," \n              ").concat(n.fadeOutSelection(e)&&"disableSelection"," \n              ").concat(n.isDisablePreSelectedValues(e)&&"disableSelection"," option\n            "),onClick:function(){return n.onSelectItem(e)}},s&&!a&&u.createElement("input",{type:"checkbox",readOnly:!0,className:"checkbox",checked:n.isSelectedValue(e)}),i?e[l]:(e||"").toString())})}},{key:"renderSelectedList",value:function(){var n=this,e=this.props,t=e.isObject,i=void 0!==t&&t,l=e.displayValue,s=e.style,o=e.singleSelect,a=e.customCloseIcon,e=this.state,r=e.closeIconType;return e.selectedValues.map(function(e,t){return u.createElement("span",{className:"chip  ".concat(o&&"singleChip"," ").concat(n.isDisablePreSelectedValues(e)&&"disableSelection"),key:t,style:s.chips},i?e[l]:(e||"").toString(),!n.isDisablePreSelectedValues(e)&&(a?u.createElement("i",{className:"custom-close",onClick:function(){return n.onRemoveSelectedItem(e)}},a):u.createElement("img",{className:"icon_cancel closeIcon",src:r,onClick:function(){return n.onRemoveSelectedItem(e)}})))})}},{key:"isDisablePreSelectedValues",value:function(t){var e=this.props,n=e.displayValue,i=this.state.preSelectedValues;return!(!e.disablePreSelectedValues||!i.length)&&(e.isObject?0<i.filter(function(e){return e[n]===t[n]}).length:0<i.filter(function(e){return e===t}).length)}},{key:"fadeOutSelection",value:function(e){var t=this.props,n=t.selectionLimit;if(!t.singleSelect){var i=this.state.selectedValues;return-1!=n&&n==i.length&&(n==i.length?!t.showCheckbox||!this.isSelectedValue(e):void 0)}}},{key:"toggelOptionList",value:function(){this.setState({toggleOptionsList:!this.state.toggleOptionsList,highlightOption:this.props.avoidHighlightFirstOption?-1:0})}},{key:"onFocus",value:function(){this.state.toggleOptionsList?clearTimeout(this.optionTimeout):this.toggelOptionList()}},{key:"onBlur",value:function(){this.optionTimeout=setTimeout(this.toggelOptionList,250)}},{key:"isVisible",value:function(e){return!!e&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}},{key:"hideOnClickOutside",value:function(){var t=this,n=document.getElementsByClassName("multiselect-container")[0];document.addEventListener("click",function(e){n&&!n.contains(e.target)&&t.isVisible(n)&&t.toggelOptionList()})}},{key:"renderMultiselectContainer",value:function(){var e=this.state,t=e.inputValue,n=e.toggleOptionsList,i=e.selectedValues,l=this.props,s=l.placeholder,o=l.style,a=l.singleSelect,r=l.id,c=l.hidePlaceholder,e=l.disable,l=l.showArrow;return u.createElement("div",{className:"multiselect-container multiSelectContainer ".concat(e?"disable_ms":""),id:r||"multiselectContainerReact",style:o.multiselectContainer},u.createElement("div",{className:"search-wrapper searchWrapper ".concat(a?"singleSelect":""),ref:this.searchWrapper,style:o.searchBox,onClick:a?this.toggelOptionList:function(){}},this.renderSelectedList(),u.createElement("input",{type:"text",ref:this.searchBox,className:"searchBox",id:"".concat(r||"search","_input"),onChange:this.onChange,value:t,onFocus:this.onFocus,onBlur:this.onBlur,placeholder:a&&i.length||c&&i.length?"":s,onKeyDown:this.onArrowKeyNavigation,style:o.inputField,autoComplete:"off",disabled:a||e}),(a||l)&&u.createElement("img",{src:"data:image/svg+xml,%3Csvg%20height%3D%2232%22%20viewBox%3D%220%200%2032%2032%22%20width%3D%2232%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%20%20%3Cg%20id%3D%22background%22%3E%20%20%20%20%20%20%20%20%3Crect%20fill%3D%22none%22%20height%3D%2232%22%20width%3D%2232%22%2F%3E%20%20%20%20%3C%2Fg%3E%20%20%20%20%3Cg%20id%3D%22arrow_x5F_down%22%3E%20%20%20%20%20%20%20%20%3Cpolygon%20points%3D%222.002%2C10%2016.001%2C24%2030.002%2C10%20%20%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",className:"icon_cancel icon_down_dir"})),u.createElement("div",{className:"optionListContainer ".concat(n?"displayBlock":"displayNone")},this.renderOptionList()))}},{key:"render",value:function(){return this.renderMultiselectContainer()}}]),p);function p(e){var t;return function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this),(t=!(t=s(p).call(this,e))||"object"!=typeof t&&"function"!=typeof t?a(this):t).state={inputValue:"",options:e.options,filteredOptions:e.options,unfilteredOptions:e.options,selectedValues:Object.assign([],e.selectedValues),preSelectedValues:Object.assign([],e.selectedValues),toggleOptionsList:!1,highlightOption:e.avoidHighlightFirstOption?-1:0,showCheckbox:e.showCheckbox,keepSearchTerm:e.keepSearchTerm,groupedObject:[],closeIconType:r[e.closeIcon]||r.circle},t.optionTimeout=null,t.searchWrapper=u.createRef(),t.searchBox=u.createRef(),t.onChange=t.onChange.bind(a(t)),t.onFocus=t.onFocus.bind(a(t)),t.onBlur=t.onBlur.bind(a(t)),t.renderMultiselectContainer=t.renderMultiselectContainer.bind(a(t)),t.renderSelectedList=t.renderSelectedList.bind(a(t)),t.onRemoveSelectedItem=t.onRemoveSelectedItem.bind(a(t)),t.toggelOptionList=t.toggelOptionList.bind(a(t)),t.onArrowKeyNavigation=t.onArrowKeyNavigation.bind(a(t)),t.onSelectItem=t.onSelectItem.bind(a(t)),t.filterOptionsByInput=t.filterOptionsByInput.bind(a(t)),t.removeSelectedValuesFromOptions=t.removeSelectedValuesFromOptions.bind(a(t)),t.isSelectedValue=t.isSelectedValue.bind(a(t)),t.fadeOutSelection=t.fadeOutSelection.bind(a(t)),t.isDisablePreSelectedValues=t.isDisablePreSelectedValues.bind(a(t)),t.renderGroupByOptions=t.renderGroupByOptions.bind(a(t)),t.renderNormalOption=t.renderNormalOption.bind(a(t)),t.listenerCallback=t.listenerCallback.bind(a(t)),t.resetSelectedValues=t.resetSelectedValues.bind(a(t)),t.getSelectedItems=t.getSelectedItems.bind(a(t)),t.getSelectedItemsCount=t.getSelectedItemsCount.bind(a(t)),t.hideOnClickOutside=t.hideOnClickOutside.bind(a(t)),t.isVisible=t.isVisible.bind(a(t)),t}c.defaultProps={options:[],disablePreSelectedValues:!1,selectedValues:[],isObject:!0,displayValue:"model",showCheckbox:!1,selectionLimit:-1,placeholder:"Select",groupBy:"",style:{},emptyRecordMsg:"No Options Available",onSelect:function(){},onRemove:function(){},closeIcon:"circle2",singleSelect:!1,caseSensitiveSearch:!1,id:"",closeOnSelect:!0,avoidHighlightFirstOption:!1,hidePlaceholder:!1,showArrow:!1,keepSearchTerm:!1,customCloseIcon:""},t.Multiselect=c,t.default=c}}]);